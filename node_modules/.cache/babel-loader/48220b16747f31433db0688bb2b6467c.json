{"ast":null,"code":"var _regeneratorRuntime = require(\"/home/user/Desktop/project/iqoption/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\");\n\nvar _asyncToGenerator = require(\"/home/user/Desktop/project/iqoption/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/asyncToGenerator\");\n\nvar _require = require(\"./actives\"),\n    Binary = _require.Binary,\n    Digital = _require.Digital;\n\nfunction Buy(API, options) {\n  var _this = this;\n\n  this.API = API;\n  this.options = options;\n  return new Promise( /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(resolve, reject) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (_this.options.active in _this.API.actives) {\n                _context.next = 4;\n                break;\n              }\n\n              return _context.abrupt(\"return\", reject(\"(BUY) Ativo inválido.\"));\n\n            case 4:\n              if (!Number.isNaN(parseInt(_this.options.amount))) {\n                _context.next = 8;\n                break;\n              }\n\n              return _context.abrupt(\"return\", reject(\"(BUY) Valor inválido.\"));\n\n            case 8:\n              if (!([\"CALL\", \"PUT\"].indexOf(_this.options.action) == -1)) {\n                _context.next = 12;\n                break;\n              }\n\n              return _context.abrupt(\"return\", reject(\"(BUY) Ação inválida.\"));\n\n            case 12:\n              if (!([\"BINARY\", \"DIGITAL\", \"FOREX\"].indexOf(_this.options.type) == -1)) {\n                _context.next = 14;\n                break;\n              }\n\n              return _context.abrupt(\"return\", reject(\"(BUY) Tipo inválido.\"));\n\n            case 14:\n              _context.prev = 14;\n\n              if (!(_this.options.type == \"BINARY\")) {\n                _context.next = 21;\n                break;\n              }\n\n              _context.next = 18;\n              return Binary.call(_this);\n\n            case 18:\n              _this.quote = _context.sent;\n              _context.next = 25;\n              break;\n\n            case 21:\n              if (!(_this.options.type == \"DIGITAL\")) {\n                _context.next = 25;\n                break;\n              }\n\n              _context.next = 24;\n              return Digital.call(_this);\n\n            case 24:\n              _this.quote = _context.sent;\n\n            case 25:\n              _context.next = 30;\n              break;\n\n            case 27:\n              _context.prev = 27;\n              _context.t0 = _context[\"catch\"](14);\n              return _context.abrupt(\"return\", reject(\"(BUY) \".concat(_context.t0.message)));\n\n            case 30:\n              return _context.abrupt(\"return\", resolve(_this));\n\n            case 31:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[14, 27]]);\n    }));\n\n    return function (_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n}\n\nBuy.prototype.close = require(\"./close\");\nmodule.exports = Buy;","map":{"version":3,"sources":["/home/user/Desktop/project/iqoption/node_modules/iqoptionzzz/lib/api/websocket/buy/buy.js"],"names":["require","Binary","Digital","Buy","API","options","Promise","resolve","reject","active","actives","Number","isNaN","parseInt","amount","indexOf","action","type","call","quote","message","prototype","close","module","exports"],"mappings":";;;;AAAA,eAGIA,OAAO,CAAC,WAAD,CAHX;AAAA,IACCC,MADD,YACCA,MADD;AAAA,IAECC,OAFD,YAECA,OAFD;;AAKA,SAASC,GAAT,CAAaC,GAAb,EAAkBC,OAAlB,EAA2B;AAAA;;AAC1B,OAAKD,GAAL,GAAWA,GAAX;AACA,OAAKC,OAAL,GAAeA,OAAf;AAEA,SAAO,IAAIC,OAAJ;AAAA,wEAAY,iBAAOC,OAAP,EAAgBC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA,kBACZ,KAAI,CAACH,OAAL,CAAaI,MAAb,IAAuB,KAAI,CAACL,GAAL,CAASM,OADpB;AAAA;AAAA;AAAA;;AAAA,+CAEVF,MAAM,CAAC,uBAAD,CAFI;;AAAA;AAAA,mBAGTG,MAAM,CAACC,KAAP,CAAaC,QAAQ,CAAC,KAAI,CAACR,OAAL,CAAaS,MAAd,CAArB,CAHS;AAAA;AAAA;AAAA;;AAAA,+CAIVN,MAAM,CAAC,uBAAD,CAJI;;AAAA;AAAA,oBAKT,CAAC,MAAD,EAAS,KAAT,EAAgBO,OAAhB,CAAwB,KAAI,CAACV,OAAL,CAAaW,MAArC,KAAgD,CAAC,CALxC;AAAA;AAAA;AAAA;;AAAA,+CAMVR,MAAM,CAAC,sBAAD,CANI;;AAAA;AAAA,oBAOT,CAAC,QAAD,EAAW,SAAX,EAAsB,OAAtB,EAA+BO,OAA/B,CAAuC,KAAI,CAACV,OAAL,CAAaY,IAApD,KAA6D,CAAC,CAPrD;AAAA;AAAA;AAAA;;AAAA,+CAQVT,MAAM,CAAC,sBAAD,CARI;;AAAA;AAAA;;AAAA,oBAWb,KAAI,CAACH,OAAL,CAAaY,IAAb,IAAqB,QAXR;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAYGhB,MAAM,CAACiB,IAAP,CAAY,KAAZ,CAZH;;AAAA;AAYhB,cAAA,KAAI,CAACC,KAZW;AAAA;AAAA;;AAAA;AAAA,oBAaN,KAAI,CAACd,OAAL,CAAaY,IAAb,IAAqB,SAbf;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAcGf,OAAO,CAACgB,IAAR,CAAa,KAAb,CAdH;;AAAA;AAchB,cAAA,KAAI,CAACC,KAdW;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA,+CAiBVX,MAAM,iBAAU,YAAMY,OAAhB,EAjBI;;AAAA;AAAA,+CAoBXb,OAAO,CAAC,KAAD,CApBI;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAZ;;AAAA;AAAA;AAAA;AAAA,MAAP;AAsBA;;AAEDJ,GAAG,CAACkB,SAAJ,CAAcC,KAAd,GAAsBtB,OAAO,CAAC,SAAD,CAA7B;AAEAuB,MAAM,CAACC,OAAP,GAAiBrB,GAAjB","sourcesContent":["const {\r\n\tBinary,\r\n\tDigital\r\n} = require(\"./actives\")\r\n\r\nfunction Buy(API, options) {\r\n\tthis.API = API\r\n\tthis.options = options\r\n\r\n\treturn new Promise(async (resolve, reject) => {\r\n\t\tif (!(this.options.active in this.API.actives))\r\n\t\t\treturn reject(\"(BUY) Ativo inválido.\")\r\n\t\telse if (Number.isNaN(parseInt(this.options.amount)))\r\n\t\t\treturn reject(\"(BUY) Valor inválido.\")\r\n\t\telse if ([\"CALL\", \"PUT\"].indexOf(this.options.action) == -1)\r\n\t\t\treturn reject(\"(BUY) Ação inválida.\")\r\n\t\telse if ([\"BINARY\", \"DIGITAL\", \"FOREX\"].indexOf(this.options.type) == -1)\r\n\t\t\treturn reject(\"(BUY) Tipo inválido.\")\r\n\r\n\t\ttry {\r\n\t\t\tif (this.options.type == \"BINARY\") {\r\n\t\t\t\tthis.quote = await Binary.call(this)\r\n\t\t\t} else if (this.options.type == \"DIGITAL\") {\r\n\t\t\t\tthis.quote = await Digital.call(this)\r\n\t\t\t}\r\n\t\t} catch(error) {\r\n\t\t\treturn reject(`(BUY) ${error.message}`)\r\n\t\t}\r\n\r\n\t\treturn resolve(this)\r\n\t})\r\n}\r\n\r\nBuy.prototype.close = require(\"./close\")\r\n\r\nmodule.exports = Buy"]},"metadata":{},"sourceType":"script"}