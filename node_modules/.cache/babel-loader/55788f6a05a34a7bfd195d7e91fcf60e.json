{"ast":null,"code":"var _jsxFileName = \"/home/user/Desktop/project/iqoption/src/pages/Main/index.tsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport storage from '../../utils/storage';\nimport schedule from 'node-schedule';\nimport IQOption from 'iqoptionzzz';\nimport operate from '../../utils/operate';\nimport axios from 'axios';\nimport { toast } from 'react-toastify';\nimport { Div, DivChange, DivConfig, DivStarted, StartBot } from './styled';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function LoginIQ({\n  history\n}) {\n  _s();\n\n  const [stopWin, setStopWin] = React.useState(0);\n  const [stopLoss, setStopLoss] = React.useState(0);\n  const [delay, setDelay] = React.useState(0);\n  const [file, setFile] = React.useState();\n  const [balance, setBalance] = React.useState(false);\n  const [buttonName, setButtonName] = React.useState('Configurar');\n  const [entrada, setEntrada] = React.useState(0);\n  const [martinGales, setMartinGales] = React.useState(0);\n  const [oldTrade, setOldTrade] = React.useState({\n    time: '',\n    active: '',\n    direction: ''\n  });\n  const [nextTrade, setNextTrade] = React.useState({\n    time: '',\n    active: '',\n    direction: ''\n  });\n  const buttonStart = React.useRef();\n  const div = React.useRef();\n  const divConfig = React.useRef();\n  const divChange = React.useRef();\n  const divStarted = React.useRef();\n  const martin = React.useRef();\n  const iqoption = useSelector(state => state.iqoption);\n  const dispatch = useDispatch();\n\n  async function handleClick(e) {\n    if (buttonStart.current.innerText === 'Stop') {\n      divStarted.current.style.display = 'none';\n      buttonStart.current.innerText = 'Start';\n      buttonStart.current.style.backgroundColor = 'green';\n      div.current.style.display = 'block';\n      divChange.current.style.display = 'block';\n      Object.keys(schedule.scheduledJobs).forEach(key => {\n        schedule.scheduledJobs[key].cancel();\n      });\n      setOldTrade({\n        time: '',\n        active: '',\n        direction: ''\n      });\n      setNextTrade({\n        time: '',\n        active: '',\n        direction: ''\n      });\n      return;\n    }\n\n    const errors = [];\n    if (!stopWin) errors.push('Preencha stopWin');\n    if (!stopLoss) errors.push('Preencha stopLoss');\n    if (!file) errors.push('Coloque uma lista');\n    if (!entrada) errors.push('Coloque uma entrada');\n    if (errors.length > 0) return errors.forEach(value => {\n      toast.error(value);\n    });\n\n    if (buttonStart.current.innerText === 'Start') {\n      buttonStart.current.innerText = 'Stop';\n      buttonStart.current.style.backgroundColor = 'red';\n      div.current.style.display = 'none';\n      divConfig.current.style.display = 'none';\n      divChange.current.style.display = 'none';\n      divStarted.current.style.display = 'block';\n    }\n\n    const gales = [];\n    gales.push(Number(entrada));\n\n    for (let i = 0; Number(entrada) > i; i++) {\n      gales.push(gales[gales.length - 1] * 2);\n    }\n\n    console.log(gales);\n    storage.setStopLoss(stopLoss);\n    storage.setStopWin(stopWin);\n    storage.setMartinGales(gales);\n    const formData = new FormData();\n    formData.append('file', file);\n\n    try {\n      const {\n        data\n      } = await axios.post(`http://${process.env.REACT_APP_HOST_APP}/api/v2/sinais`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      if (data.length === 0) return toast.error('Por favor adicione pelo menos 2 trades a lista');\n\n      try {\n        const API = await toast.promise(IQOption({\n          email: iqoption.email,\n          password: iqoption.password\n        }), {\n          pending: 'Aguarde',\n          success: 'Bot inicializado, nao feche o navegador',\n          error: 'Erro ao iniciar o bot'\n        });\n        console.log('IQOPTION CONNECTED');\n        setNextTrade({\n          active: data[0].active,\n          direction: data[0].direction,\n          time: `${data[0].time.hour}:${data[0].time.minutes}`\n        });\n        data.forEach((value, index, array) => {\n          schedule.scheduleJob({\n            hour: value.time.hour,\n            minute: delay ? value.time.minutes - delay < 0 ? 0 : value.time.minutes - delay : value.time.minutes\n          }, () => {\n            try {\n              let indexOld = index - 1;\n              if (index === 0) indexOld = 0;\n              let indexNew = index + 1;\n              if (array.length - 1 === index) indexNew = index;\n              setOldTrade({\n                active: array[indexOld].active,\n                direction: array[indexOld].direction,\n                time: `${array[indexOld].time.hour}:${array[indexOld].time.minutes}`\n              });\n              setNextTrade({\n                active: array[indexNew].active,\n                direction: array[indexNew].direction,\n                time: `${array[indexNew].time.hour}:${array[indexNew].time.minutes}`\n              });\n              operate(API, value.active, value.direction, Number(value.duration));\n            } catch (e) {//\n            }\n          });\n        });\n      } catch (e) {\n        console.log(e);\n        toast.error('Verifique as configuracoes');\n        div.current.style.display = 'block';\n        divStarted.current.style.display = 'none';\n        buttonStart.current.innerText = 'Start';\n        buttonStart.current.style.backgroundColor = 'green';\n      }\n    } catch (e) {\n      toast.error('Arquivo invalido');\n    }\n  }\n\n  React.useEffect(() => {\n    async function getBalance() {\n      if (balance) return;\n      const ws = new WebSocket('wss://iqoption.com/echo/websocket');\n\n      ws.onopen = () => {\n        console.log('Started');\n        ws.send(JSON.stringify({\n          \"name\": \"ssid\",\n          \"msg\": iqoption.ssid\n        }));\n      };\n\n      ws.onmessage = message => {\n        const myMessage = JSON.parse(message.data);\n\n        if (myMessage.name === 'profile') {\n          var _myMessage$msg;\n\n          setBalance((_myMessage$msg = myMessage.msg) === null || _myMessage$msg === void 0 ? void 0 : _myMessage$msg.balances[1].amount);\n          ws.close();\n        }\n      };\n    } //getBalance();\n\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(DivStarted, {\n      ref: divStarted,\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Anterior\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [oldTrade.time, \" \", oldTrade.active, \" \", oldTrade.direction]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Proximo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [nextTrade.time, \" \", nextTrade.active, \" \", nextTrade.direction]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(DivChange, {\n      ref: divChange,\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: e => {\n          if (div.current.style.display === 'none') {\n            div.current.style.display = 'block';\n            divConfig.current.style.display = 'none';\n            setButtonName('Configurar');\n            return;\n          }\n\n          div.current.style.display = 'none';\n          divConfig.current.style.display = 'block';\n          setButtonName('Iniciar');\n        },\n        children: buttonName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(DivConfig, {\n      ref: divConfig,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Banca \", /*#__PURE__*/_jsxDEV(\"span\", {\n          children: balance ? `$${balance}` : 'Loading...'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 23\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Delay \", /*#__PURE__*/_jsxDEV(\"span\", {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            onChange: e => {\n              const value = e.target.value;\n              if (!value) return;\n              setDelay(value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 23\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Stop Win \", /*#__PURE__*/_jsxDEV(\"span\", {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            onChange: e => {\n              const value = e.target.value;\n              if (!value) return;\n              setStopWin(value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 32\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 26\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Stop Loss \", /*#__PURE__*/_jsxDEV(\"span\", {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            onChange: e => {\n              const value = e.target.value;\n              if (!value) return;\n              setStopLoss(value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 27\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Entrada \", /*#__PURE__*/_jsxDEV(\"span\", {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            onChange: e => {\n              const value = e.target.value;\n              if (!value) return;\n              setEntrada(value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 32\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 26\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 14\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"MartinGales \", /*#__PURE__*/_jsxDEV(\"span\", {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            onChange: e => {\n              const value = e.target.value;\n              if (!value) return;\n              setMartinGales(value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 35\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Listas \", /*#__PURE__*/_jsxDEV(\"span\", {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            accept: \"text/plain\",\n            onChange: e => {\n              const file = e.target.files[0];\n              setFile(file);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 30\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 24\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Div, {\n      ref: div,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Banca \", /*#__PURE__*/_jsxDEV(\"span\", {\n          children: balance ? `$${balance}` : 'Loading...'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 23\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Delay \", /*#__PURE__*/_jsxDEV(\"span\", {\n          children: delay\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 23\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Stop Win \", /*#__PURE__*/_jsxDEV(\"span\", {\n          children: stopWin\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 26\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Stop Loss \", /*#__PURE__*/_jsxDEV(\"span\", {\n          children: stopLoss\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 27\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Entrada \", /*#__PURE__*/_jsxDEV(\"span\", {\n          children: entrada\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"MartinGales \", /*#__PURE__*/_jsxDEV(\"span\", {\n          children: martinGales\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(StartBot, {\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        ref: buttonStart,\n        onClick: handleClick,\n        children: \"Start\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n\n_s(LoginIQ, \"ixUKfjNb1zsEwmZvldBis2JQzm0=\", false, function () {\n  return [useSelector, useDispatch];\n});\n\n_c = LoginIQ;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginIQ\");","map":{"version":3,"sources":["/home/user/Desktop/project/iqoption/src/pages/Main/index.tsx"],"names":["React","storage","schedule","IQOption","operate","axios","toast","Div","DivChange","DivConfig","DivStarted","StartBot","useSelector","useDispatch","LoginIQ","history","stopWin","setStopWin","useState","stopLoss","setStopLoss","delay","setDelay","file","setFile","balance","setBalance","buttonName","setButtonName","entrada","setEntrada","martinGales","setMartinGales","oldTrade","setOldTrade","time","active","direction","nextTrade","setNextTrade","buttonStart","useRef","div","divConfig","divChange","divStarted","martin","iqoption","state","dispatch","handleClick","e","current","innerText","style","display","backgroundColor","Object","keys","scheduledJobs","forEach","key","cancel","errors","push","length","value","error","gales","Number","i","console","log","formData","FormData","append","data","post","process","env","REACT_APP_HOST_APP","headers","API","promise","email","password","pending","success","hour","minutes","index","array","scheduleJob","minute","indexOld","indexNew","duration","useEffect","getBalance","ws","WebSocket","onopen","send","JSON","stringify","ssid","onmessage","message","myMessage","parse","name","msg","balances","amount","close","target","files"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAGA,OAAOC,OAAP,MAAoB,qBAApB;AAEA,OAAOC,QAAP,MAAqB,eAArB;AAEA,OAAOC,QAAP,MAAqB,aAArB;AACA,OAAOC,OAAP,MAAoB,qBAApB;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,SAASC,KAAT,QAAsB,gBAAtB;AACA,SAASC,GAAT,EAAcC,SAAd,EAAyBC,SAAzB,EAAoCC,UAApC,EAAgDC,QAAhD,QAAgE,UAAhE;AAEA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;;;AAGA,eAAe,SAASC,OAAT,CAAiB;AAAEC,EAAAA;AAAF,CAAjB,EAA0E;AAAA;;AACrF,QAAM,CAAEC,OAAF,EAAWC,UAAX,IAA0BjB,KAAK,CAACkB,QAAN,CAAe,CAAf,CAAhC;AACA,QAAM,CAAEC,QAAF,EAAYC,WAAZ,IAA4BpB,KAAK,CAACkB,QAAN,CAAe,CAAf,CAAlC;AACA,QAAM,CAAEG,KAAF,EAASC,QAAT,IAAsBtB,KAAK,CAACkB,QAAN,CAAe,CAAf,CAA5B;AACA,QAAM,CAAEK,IAAF,EAAQC,OAAR,IAAoBxB,KAAK,CAACkB,QAAN,EAA1B;AACA,QAAM,CAAEO,OAAF,EAAWC,UAAX,IAA0B1B,KAAK,CAACkB,QAAN,CAAiC,KAAjC,CAAhC;AACA,QAAM,CAAES,UAAF,EAAcC,aAAd,IAAgC5B,KAAK,CAACkB,QAAN,CAAe,YAAf,CAAtC;AACA,QAAM,CAAEW,OAAF,EAAWC,UAAX,IAA0B9B,KAAK,CAACkB,QAAN,CAAe,CAAf,CAAhC;AACA,QAAM,CAAEa,WAAF,EAAeC,cAAf,IAAkChC,KAAK,CAACkB,QAAN,CAAe,CAAf,CAAxC;AAEA,QAAM,CAAEe,QAAF,EAAYC,WAAZ,IAA4BlC,KAAK,CAACkB,QAAN,CAAe;AAC7CiB,IAAAA,IAAI,EAAE,EADuC;AAE7CC,IAAAA,MAAM,EAAE,EAFqC;AAG7CC,IAAAA,SAAS,EAAE;AAHkC,GAAf,CAAlC;AAMA,QAAM,CAAEC,SAAF,EAAaC,YAAb,IAA8BvC,KAAK,CAACkB,QAAN,CAAe;AAC/CiB,IAAAA,IAAI,EAAE,EADyC;AAE/CC,IAAAA,MAAM,EAAE,EAFuC;AAG/CC,IAAAA,SAAS,EAAE;AAHoC,GAAf,CAApC;AAMA,QAAMG,WAAW,GAAGxC,KAAK,CAACyC,MAAN,EAApB;AAEA,QAAMC,GAAG,GAAG1C,KAAK,CAACyC,MAAN,EAAZ;AACA,QAAME,SAAS,GAAG3C,KAAK,CAACyC,MAAN,EAAlB;AACA,QAAMG,SAAS,GAAG5C,KAAK,CAACyC,MAAN,EAAlB;AACA,QAAMI,UAAU,GAAG7C,KAAK,CAACyC,MAAN,EAAnB;AAEA,QAAMK,MAAM,GAAG9C,KAAK,CAACyC,MAAN,EAAf;AAEA,QAAMM,QAAQ,GAAGnC,WAAW,CAAEoC,KAAD,IAMvBA,KAAK,CAACD,QANgB,CAA5B;AAQA,QAAME,QAAQ,GAAGpC,WAAW,EAA5B;;AACA,iBAAeqC,WAAf,CAA2BC,CAA3B,EAAwE;AACpE,QAAGX,WAAW,CAACY,OAAZ,CAAoBC,SAApB,KAAkC,MAArC,EAA6C;AACzCR,MAAAA,UAAU,CAACO,OAAX,CAAmBE,KAAnB,CAAyBC,OAAzB,GAAmC,MAAnC;AACAf,MAAAA,WAAW,CAACY,OAAZ,CAAoBC,SAApB,GAAgC,OAAhC;AACAb,MAAAA,WAAW,CAACY,OAAZ,CAAoBE,KAApB,CAA0BE,eAA1B,GAA4C,OAA5C;AACAd,MAAAA,GAAG,CAACU,OAAJ,CAAYE,KAAZ,CAAkBC,OAAlB,GAA4B,OAA5B;AACAX,MAAAA,SAAS,CAACQ,OAAV,CAAkBE,KAAlB,CAAwBC,OAAxB,GAAkC,OAAlC;AAEAE,MAAAA,MAAM,CAACC,IAAP,CAAYxD,QAAQ,CAACyD,aAArB,EAAoCC,OAApC,CAA6CC,GAAD,IAAS;AACjD3D,QAAAA,QAAQ,CAACyD,aAAT,CAAuBE,GAAvB,EAA4BC,MAA5B;AACH,OAFD;AAIA5B,MAAAA,WAAW,CAAC;AACRC,QAAAA,IAAI,EAAE,EADE;AAERC,QAAAA,MAAM,EAAE,EAFA;AAGRC,QAAAA,SAAS,EAAE;AAHH,OAAD,CAAX;AAMAE,MAAAA,YAAY,CAAC;AACTJ,QAAAA,IAAI,EAAE,EADG;AAETC,QAAAA,MAAM,EAAE,EAFC;AAGTC,QAAAA,SAAS,EAAE;AAHF,OAAD,CAAZ;AAKA;AACH;;AAED,UAAM0B,MAAgB,GAAG,EAAzB;AACA,QAAG,CAAC/C,OAAJ,EAAa+C,MAAM,CAACC,IAAP,CAAY,kBAAZ;AACb,QAAG,CAAC7C,QAAJ,EAAc4C,MAAM,CAACC,IAAP,CAAY,mBAAZ;AACd,QAAG,CAACzC,IAAJ,EAAUwC,MAAM,CAACC,IAAP,CAAY,mBAAZ;AACV,QAAG,CAACnC,OAAJ,EAAakC,MAAM,CAACC,IAAP,CAAY,qBAAZ;AAEb,QAAGD,MAAM,CAACE,MAAP,GAAgB,CAAnB,EAAsB,OAAOF,MAAM,CAACH,OAAP,CAAgBM,KAAD,IAAW;AACnD5D,MAAAA,KAAK,CAAC6D,KAAN,CAAYD,KAAZ;AACH,KAF4B,CAAP;;AAItB,QAAG1B,WAAW,CAACY,OAAZ,CAAoBC,SAApB,KAAkC,OAArC,EAA8C;AAC1Cb,MAAAA,WAAW,CAACY,OAAZ,CAAoBC,SAApB,GAAgC,MAAhC;AACAb,MAAAA,WAAW,CAACY,OAAZ,CAAoBE,KAApB,CAA0BE,eAA1B,GAA4C,KAA5C;AACAd,MAAAA,GAAG,CAACU,OAAJ,CAAYE,KAAZ,CAAkBC,OAAlB,GAA4B,MAA5B;AACAZ,MAAAA,SAAS,CAACS,OAAV,CAAkBE,KAAlB,CAAwBC,OAAxB,GAAkC,MAAlC;AACAX,MAAAA,SAAS,CAACQ,OAAV,CAAkBE,KAAlB,CAAwBC,OAAxB,GAAkC,MAAlC;AACAV,MAAAA,UAAU,CAACO,OAAX,CAAmBE,KAAnB,CAAyBC,OAAzB,GAAmC,OAAnC;AACH;;AAGD,UAAMa,KAAK,GAAG,EAAd;AACAA,IAAAA,KAAK,CAACJ,IAAN,CAAWK,MAAM,CAACxC,OAAD,CAAjB;;AAEA,SAAI,IAAIyC,CAAC,GAAG,CAAZ,EAAeD,MAAM,CAACxC,OAAD,CAAN,GAAkByC,CAAjC,EAAoCA,CAAC,EAArC,EAAyC;AACrCF,MAAAA,KAAK,CAACJ,IAAN,CAAWI,KAAK,CAACA,KAAK,CAACH,MAAN,GAAe,CAAhB,CAAL,GAA0B,CAArC;AACH;;AAEDM,IAAAA,OAAO,CAACC,GAAR,CAAYJ,KAAZ;AACAnE,IAAAA,OAAO,CAACmB,WAAR,CAAoBD,QAApB;AACAlB,IAAAA,OAAO,CAACgB,UAAR,CAAmBD,OAAnB;AACAf,IAAAA,OAAO,CAAC+B,cAAR,CAAuBoC,KAAvB;AAEA,UAAMK,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAD,IAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwBpD,IAAxB;;AAED,QAAI;AACA,YAAM;AAAEqD,QAAAA;AAAF,UAA0B,MAAMvE,KAAK,CAACwE,IAAN,CAAY,UAASC,OAAO,CAACC,GAAR,CAAYC,kBAAmB,gBAApD,EAAqEP,QAArE,EAA+E;AACpHQ,QAAAA,OAAO,EAAE;AACL,0BAAgB;AADX;AAD2G,OAA/E,CAAtC;AAOH,UAAGL,IAAI,CAACX,MAAL,KAAgB,CAAnB,EAAsB,OAAO3D,KAAK,CAAC6D,KAAN,CAAY,gDAAZ,CAAP;;AAEtB,UAAI;AACA,cAAMe,GAAG,GAAG,MAAM5E,KAAK,CAAC6E,OAAN,CAAchF,QAAQ,CAAC;AACrCiF,UAAAA,KAAK,EAAErC,QAAQ,CAACqC,KADqB;AAErCC,UAAAA,QAAQ,EAAEtC,QAAQ,CAACsC;AAFkB,SAAD,CAAtB,EAGd;AACAC,UAAAA,OAAO,EAAE,SADT;AAEAC,UAAAA,OAAO,EAAE,yCAFT;AAGApB,UAAAA,KAAK,EAAE;AAHP,SAHc,CAAlB;AAQAI,QAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AAEAjC,QAAAA,YAAY,CAAC;AACTH,UAAAA,MAAM,EAAEwC,IAAI,CAAC,CAAD,CAAJ,CAAQxC,MADP;AAETC,UAAAA,SAAS,EAAEuC,IAAI,CAAC,CAAD,CAAJ,CAAQvC,SAFV;AAGTF,UAAAA,IAAI,EAAG,GAAEyC,IAAI,CAAC,CAAD,CAAJ,CAAQzC,IAAR,CAAaqD,IAAK,IAAGZ,IAAI,CAAC,CAAD,CAAJ,CAAQzC,IAAR,CAAasD,OAAQ;AAH1C,SAAD,CAAZ;AAMAb,QAAAA,IAAI,CAAChB,OAAL,CAAa,CAACM,KAAD,EAAQwB,KAAR,EAAeC,KAAf,KAAyB;AAClCzF,UAAAA,QAAQ,CAAC0F,WAAT,CAAqB;AAAEJ,YAAAA,IAAI,EAAEtB,KAAK,CAAC/B,IAAN,CAAWqD,IAAnB;AAAyBK,YAAAA,MAAM,EAAExE,KAAK,GAAG6C,KAAK,CAAC/B,IAAN,CAAWsD,OAAX,GAAqBpE,KAArB,GAA6B,CAA7B,GAAiC,CAAjC,GAAqC6C,KAAK,CAAC/B,IAAN,CAAWsD,OAAX,GAAqBpE,KAA7D,GAAqE6C,KAAK,CAAC/B,IAAN,CAAWsD;AAAtH,WAArB,EAAqJ,MAAM;AACvJ,gBAAI;AACA,kBAAIK,QAAQ,GAAGJ,KAAK,GAAG,CAAvB;AACR,kBAAGA,KAAK,KAAK,CAAb,EAAgBI,QAAQ,GAAG,CAAX;AAEhB,kBAAIC,QAAQ,GAAGL,KAAK,GAAG,CAAvB;AACA,kBAAGC,KAAK,CAAC1B,MAAN,GAAe,CAAf,KAAqByB,KAAxB,EAA+BK,QAAQ,GAAGL,KAAX;AAE/BxD,cAAAA,WAAW,CAAC;AACRE,gBAAAA,MAAM,EAAEuD,KAAK,CAACG,QAAD,CAAL,CAAgB1D,MADhB;AAERC,gBAAAA,SAAS,EAAEsD,KAAK,CAACG,QAAD,CAAL,CAAgBzD,SAFnB;AAGRF,gBAAAA,IAAI,EAAG,GAAEwD,KAAK,CAACG,QAAD,CAAL,CAAgB3D,IAAhB,CAAqBqD,IAAK,IAAGG,KAAK,CAACG,QAAD,CAAL,CAAgB3D,IAAhB,CAAqBsD,OAAQ;AAH3D,eAAD,CAAX;AAMAlD,cAAAA,YAAY,CAAC;AACTH,gBAAAA,MAAM,EAAEuD,KAAK,CAACI,QAAD,CAAL,CAAgB3D,MADf;AAETC,gBAAAA,SAAS,EAAEsD,KAAK,CAACI,QAAD,CAAL,CAAgB1D,SAFlB;AAGTF,gBAAAA,IAAI,EAAG,GAAEwD,KAAK,CAACI,QAAD,CAAL,CAAgB5D,IAAhB,CAAqBqD,IAAK,IAAGG,KAAK,CAACI,QAAD,CAAL,CAAgB5D,IAAhB,CAAqBsD,OAAQ;AAH1D,eAAD,CAAZ;AAMIrF,cAAAA,OAAO,CAAC8E,GAAD,EAAMhB,KAAK,CAAC9B,MAAZ,EAAoB8B,KAAK,CAAC7B,SAA1B,EAAqCgC,MAAM,CAACH,KAAK,CAAC8B,QAAP,CAA3C,CAAP;AACC,aApBD,CAoBE,OAAM7C,CAAN,EAAS,CACP;AACH;AACJ,WAxBD;AAyBH,SA1BD;AA4BH,OA7CD,CA6CE,OAAMA,CAAN,EAAS;AACPoB,QAAAA,OAAO,CAACC,GAAR,CAAYrB,CAAZ;AACA7C,QAAAA,KAAK,CAAC6D,KAAN,CAAY,4BAAZ;AACAzB,QAAAA,GAAG,CAACU,OAAJ,CAAYE,KAAZ,CAAkBC,OAAlB,GAA4B,OAA5B;AACAV,QAAAA,UAAU,CAACO,OAAX,CAAmBE,KAAnB,CAAyBC,OAAzB,GAAmC,MAAnC;AACAf,QAAAA,WAAW,CAACY,OAAZ,CAAoBC,SAApB,GAAgC,OAAhC;AACAb,QAAAA,WAAW,CAACY,OAAZ,CAAoBE,KAApB,CAA0BE,eAA1B,GAA4C,OAA5C;AACH;AACD,KA/DD,CA+DE,OAAML,CAAN,EAAS;AACP7C,MAAAA,KAAK,CAAC6D,KAAN,CAAY,kBAAZ;AACH;AAIH;;AAEDnE,EAAAA,KAAK,CAACiG,SAAN,CAAgB,MAAM;AACjB,mBAAeC,UAAf,GAA4B;AACxB,UAAGzE,OAAH,EAAY;AACb,YAAM0E,EAAE,GAAG,IAAIC,SAAJ,CAAc,mCAAd,CAAX;;AAEDD,MAAAA,EAAE,CAACE,MAAH,GAAY,MAAM;AACd9B,QAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACA2B,QAAAA,EAAE,CAACG,IAAH,CAAQC,IAAI,CAACC,SAAL,CAAe;AAAC,kBAAO,MAAR;AAAe,iBAAOzD,QAAQ,CAAC0D;AAA/B,SAAf,CAAR;AACF,OAHF;;AAKCN,MAAAA,EAAE,CAACO,SAAH,GAAgBC,OAAD,IAAa;AACxB,cAAMC,SAAS,GAAGL,IAAI,CAACM,KAAL,CAAWF,OAAO,CAAC/B,IAAnB,CAAlB;;AASA,YAAGgC,SAAS,CAACE,IAAV,KAAmB,SAAtB,EAAiC;AAAA;;AAC7BpF,UAAAA,UAAU,mBAACkF,SAAS,CAACG,GAAX,mDAAC,eAAeC,QAAf,CAAwB,CAAxB,EAA2BC,MAA5B,CAAV;AACAd,UAAAA,EAAE,CAACe,KAAH;AACH;AACJ,OAdD;AAeH,KAzBiB,CA2BlB;;AACH,GA5BD;AA6BA,sBACI;AAAA,4BACA,QAAC,UAAD;AAAY,MAAA,GAAG,EAAErE,UAAjB;AAAA,8BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAA,+BAAQ;AAAA,qBAAKZ,QAAQ,CAACE,IAAd,OAAuBF,QAAQ,CAACG,MAAhC,OAA2CH,QAAQ,CAACI,SAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAR;AAAA;AAAA;AAAA;AAAA,cAFJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJJ,eAKI;AAAA,+BAAQ;AAAA,qBAAKC,SAAS,CAACH,IAAf,OAAwBG,SAAS,CAACF,MAAlC,OAA6CE,SAAS,CAACD,SAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAR;AAAA;AAAA;AAAA;AAAA,cALJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADA,eAQA,QAAC,SAAD;AAAW,MAAA,GAAG,EAAEO,SAAhB;AAAA,6BACI;AAAQ,QAAA,OAAO,EAAGO,CAAD,IAAY;AACzB,cAAGT,GAAG,CAACU,OAAJ,CAAYE,KAAZ,CAAkBC,OAAlB,KAA8B,MAAjC,EAAyC;AACrCb,YAAAA,GAAG,CAACU,OAAJ,CAAYE,KAAZ,CAAkBC,OAAlB,GAA4B,OAA5B;AACAZ,YAAAA,SAAS,CAACS,OAAV,CAAkBE,KAAlB,CAAwBC,OAAxB,GAAkC,MAAlC;AACA3B,YAAAA,aAAa,CAAC,YAAD,CAAb;AACA;AACH;;AAEDc,UAAAA,GAAG,CAACU,OAAJ,CAAYE,KAAZ,CAAkBC,OAAlB,GAA4B,MAA5B;AACAZ,UAAAA,SAAS,CAACS,OAAV,CAAkBE,KAAlB,CAAwBC,OAAxB,GAAkC,OAAlC;AAEA3B,UAAAA,aAAa,CAAC,SAAD,CAAb;AACH,SAZD;AAAA,kBAYKD;AAZL;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YARA,eAuBA,QAAC,SAAD;AAAW,MAAA,GAAG,EAAEgB,SAAhB;AAAA,8BACI;AAAA,0CAAU;AAAA,oBAAQlB,OAAO,GAAI,IAAGA,OAAQ,EAAf,GAAmB;AAAlC;AAAA;AAAA;AAAA;AAAA,gBAAV;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAA,0CAAU;AAAA,iCAAM;AAAO,YAAA,IAAI,EAAC,QAAZ;AAAqB,YAAA,QAAQ,EAAG0B,CAAD,IAAO;AAClD,oBAAMe,KAAK,GAAGf,CAAC,CAACgE,MAAF,CAASjD,KAAvB;AACA,kBAAG,CAACA,KAAJ,EAAW;AACX5C,cAAAA,QAAQ,CAAC4C,KAAD,CAAR;AACH;AAJe;AAAA;AAAA;AAAA;AAAA;AAAN;AAAA;AAAA;AAAA;AAAA,gBAAV;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ,eAOI;AAAA,6CAAa;AAAA,iCAAM;AAAO,YAAA,IAAI,EAAC,QAAZ;AAAqB,YAAA,QAAQ,EAAGf,CAAD,IAAO;AACrD,oBAAMe,KAAK,GAAGf,CAAC,CAACgE,MAAF,CAASjD,KAAvB;AACA,kBAAG,CAACA,KAAJ,EAAW;AACXjD,cAAAA,UAAU,CAACiD,KAAD,CAAV;AACH;AAJkB;AAAA;AAAA;AAAA;AAAA;AAAN;AAAA;AAAA;AAAA;AAAA,gBAAb;AAAA;AAAA;AAAA;AAAA;AAAA,cAPJ,eAYI;AAAA,8CAAc;AAAA,iCAAM;AAAO,YAAA,IAAI,EAAC,QAAZ;AAAqB,YAAA,QAAQ,EAAGf,CAAD,IAAO;AACtD,oBAAMe,KAAK,GAAGf,CAAC,CAACgE,MAAF,CAASjD,KAAvB;AACA,kBAAG,CAACA,KAAJ,EAAW;AACX9C,cAAAA,WAAW,CAAC8C,KAAD,CAAX;AACH;AAJmB;AAAA;AAAA;AAAA;AAAA;AAAN;AAAA;AAAA;AAAA;AAAA,gBAAd;AAAA;AAAA;AAAA;AAAA;AAAA,cAZJ,eAiBK;AAAA,4CAAY;AAAA,iCAAM;AAAO,YAAA,IAAI,EAAC,QAAZ;AAAqB,YAAA,QAAQ,EAAGf,CAAD,IAAO;AACrD,oBAAMe,KAAK,GAAGf,CAAC,CAACgE,MAAF,CAASjD,KAAvB;AACA,kBAAG,CAACA,KAAJ,EAAW;AACXpC,cAAAA,UAAU,CAACoC,KAAD,CAAV;AACH;AAJkB;AAAA;AAAA;AAAA;AAAA;AAAN;AAAA;AAAA;AAAA;AAAA,gBAAZ;AAAA;AAAA;AAAA;AAAA;AAAA,cAjBL,eAsBI;AAAA,gDAAgB;AAAA,iCAAM;AAAO,YAAA,IAAI,EAAC,QAAZ;AAAqB,YAAA,QAAQ,EAAGf,CAAD,IAAO;AACxD,oBAAMe,KAAK,GAAGf,CAAC,CAACgE,MAAF,CAASjD,KAAvB;AACA,kBAAG,CAACA,KAAJ,EAAW;AACXlC,cAAAA,cAAc,CAACkC,KAAD,CAAd;AACH;AAJqB;AAAA;AAAA;AAAA;AAAA;AAAN;AAAA;AAAA;AAAA;AAAA,gBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA,cAtBJ,eA2BI;AAAA,2CAAW;AAAA,iCAAM;AAAO,YAAA,IAAI,EAAC,MAAZ;AAAmB,YAAA,MAAM,EAAC,YAA1B;AAAuC,YAAA,QAAQ,EAAGf,CAAD,IAAO;AACrE,oBAAM5B,IAAI,GAAG4B,CAAC,CAACgE,MAAF,CAASC,KAAT,CAAe,CAAf,CAAb;AACA5F,cAAAA,OAAO,CAACD,IAAD,CAAP;AACH;AAHgB;AAAA;AAAA;AAAA;AAAA;AAAN;AAAA;AAAA;AAAA;AAAA,gBAAX;AAAA;AAAA;AAAA;AAAA;AAAA,cA3BJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAvBA,eAwDA,QAAC,GAAD;AAAK,MAAA,GAAG,EAAEmB,GAAV;AAAA,8BACI;AAAA,0CAAU;AAAA,oBAAQjB,OAAO,GAAI,IAAGA,OAAQ,EAAf,GAAmB;AAAlC;AAAA;AAAA;AAAA;AAAA,gBAAV;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAA,0CAAU;AAAA,oBAAQJ;AAAR;AAAA;AAAA;AAAA;AAAA,gBAAV;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ,eAGI;AAAA,6CAAa;AAAA,oBAAQL;AAAR;AAAA;AAAA;AAAA;AAAA,gBAAb;AAAA;AAAA;AAAA;AAAA;AAAA,cAHJ,eAII;AAAA,8CAAc;AAAA,oBAAQG;AAAR;AAAA;AAAA;AAAA;AAAA,gBAAd;AAAA;AAAA;AAAA;AAAA;AAAA,cAJJ,eAKI;AAAA,4CAAY;AAAA,oBAAQU;AAAR;AAAA;AAAA;AAAA;AAAA,gBAAZ;AAAA;AAAA;AAAA;AAAA;AAAA,cALJ,eAMI;AAAA,gDAAgB;AAAA,oBAAQE;AAAR;AAAA;AAAA;AAAA;AAAA,gBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA,cANJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAxDA,eAiEA,QAAC,QAAD;AAAA,6BACI;AAAQ,QAAA,GAAG,EAAES,WAAb;AAA0B,QAAA,OAAO,EAAEU,WAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YAjEA;AAAA,kBADJ;AAuEH;;GAhRuBpC,O;UA+BHF,W,EAQAC,W;;;KAvCGC,O","sourcesContent":["import React from 'react';\n\nimport { RouteComponentProps } from 'react-router-dom';\nimport storage from '../../utils/storage';\n\nimport schedule from 'node-schedule';\n\nimport IQOption from 'iqoptionzzz';\nimport operate from '../../utils/operate'\n\nimport axios from 'axios';\n\nimport { toast } from 'react-toastify';\nimport { Div, DivChange, DivConfig, DivStarted, StartBot } from './styled';\n\nimport { useSelector, useDispatch } from 'react-redux';\n\n\nexport default function LoginIQ({ history }:{ history: RouteComponentProps['history'] }) {\n    const [ stopWin, setStopWin ] = React.useState(0);\n    const [ stopLoss, setStopLoss ] = React.useState(0);\n    const [ delay, setDelay ] = React.useState(0);\n    const [ file, setFile ] = React.useState<File>();\n    const [ balance, setBalance ] = React.useState<number | boolean>(false);\n    const [ buttonName, setButtonName ] = React.useState('Configurar');\n    const [ entrada, setEntrada ] = React.useState(0);\n    const [ martinGales, setMartinGales ] = React.useState(0);\n\n    const [ oldTrade, setOldTrade ] = React.useState({\n        time: '',\n        active: '',\n        direction: '',\n    });\n\n    const [ nextTrade, setNextTrade ] = React.useState({\n        time: '',\n        active: '',\n        direction: '',\n    });\n\n    const buttonStart = React.useRef<HTMLButtonElement>();\n\n    const div = React.useRef<HTMLDivElement>();\n    const divConfig = React.useRef<HTMLDivElement>();\n    const divChange = React.useRef<HTMLDivElement>();\n    const divStarted = React.useRef<HTMLDivElement>();\n\n    const martin = React.useRef<HTMLInputElement>();\n\n    const iqoption = useSelector((state: {\n        iqoption: {\n            email: string;\n            password: string;\n            ssid: string;\n        }\n    }) => state.iqoption);\n\n    const dispatch = useDispatch();\n    async function handleClick(e: React.ChangeEvent<any>): Promise<unknown> {\n        if(buttonStart.current.innerText === 'Stop') {\n            divStarted.current.style.display = 'none';\n            buttonStart.current.innerText = 'Start';\n            buttonStart.current.style.backgroundColor = 'green';\n            div.current.style.display = 'block';\n            divChange.current.style.display = 'block';\n\n            Object.keys(schedule.scheduledJobs).forEach((key) => {\n                schedule.scheduledJobs[key].cancel();\n            })\n\n            setOldTrade({\n                time: '',\n                active: '',\n                direction: '',\n            });\n\n            setNextTrade({\n                time: '',\n                active: '',\n                direction: '',\n            });\n            return;\n        }\n        \n        const errors: string[] = [];\n        if(!stopWin) errors.push('Preencha stopWin');\n        if(!stopLoss) errors.push('Preencha stopLoss');\n        if(!file) errors.push('Coloque uma lista');\n        if(!entrada) errors.push('Coloque uma entrada');\n\n        if(errors.length > 0) return errors.forEach((value) => {\n            toast.error(value);\n        });\n\n        if(buttonStart.current.innerText === 'Start') {\n            buttonStart.current.innerText = 'Stop';\n            buttonStart.current.style.backgroundColor = 'red';\n            div.current.style.display = 'none';\n            divConfig.current.style.display = 'none';\n            divChange.current.style.display = 'none';\n            divStarted.current.style.display = 'block';\n        } \n\n\n        const gales = [];\n        gales.push(Number(entrada));\n\n        for(let i = 0; Number(entrada) > i; i++) {\n            gales.push(gales[gales.length - 1] * 2);\n        }\n\n        console.log(gales);\n        storage.setStopLoss(stopLoss);\n        storage.setStopWin(stopWin);\n        storage.setMartinGales(gales);\n        \n        const formData = new FormData();\n        formData.append('file', file);\n\n       try {\n           const { data }: { data: any } = await axios.post(`http://${process.env.REACT_APP_HOST_APP}/api/v2/sinais`, formData, {\n            headers: {\n                'Content-Type': 'multipart/form-data'\n            }\n\n        });\n\n        if(data.length === 0) return toast.error('Por favor adicione pelo menos 2 trades a lista');\n\n        try {\n            const API = await toast.promise(IQOption({\n                email: iqoption.email,\n                password: iqoption.password\n            }), {\n                pending: 'Aguarde',\n                success: 'Bot inicializado, nao feche o navegador',\n                error: 'Erro ao iniciar o bot'\n            });\n            console.log('IQOPTION CONNECTED');\n\n            setNextTrade({\n                active: data[0].active,\n                direction: data[0].direction,\n                time: `${data[0].time.hour}:${data[0].time.minutes}`\n            });\n\n            data.forEach((value, index, array) => {\n                schedule.scheduleJob({ hour: value.time.hour, minute: delay ? value.time.minutes - delay < 0 ? 0 : value.time.minutes - delay : value.time.minutes}, () => {\n                    try {\n                        let indexOld = index - 1;\n                if(index === 0) indexOld = 0;\n\n                let indexNew = index + 1;\n                if(array.length - 1 === index) indexNew = index;\n\n                setOldTrade({\n                    active: array[indexOld].active,\n                    direction: array[indexOld].direction,\n                    time: `${array[indexOld].time.hour}:${array[indexOld].time.minutes}`\n                });\n\n                setNextTrade({\n                    active: array[indexNew].active,\n                    direction: array[indexNew].direction,\n                    time: `${array[indexNew].time.hour}:${array[indexNew].time.minutes}`\n                });\n                \n                    operate(API, value.active, value.direction, Number(value.duration));\n                    } catch(e) {\n                        //\n                    }\n                });\n            });\n            \n        } catch(e) {\n            console.log(e);\n            toast.error('Verifique as configuracoes');\n            div.current.style.display = 'block';\n            divStarted.current.style.display = 'none';\n            buttonStart.current.innerText = 'Start';\n            buttonStart.current.style.backgroundColor = 'green';\n        }\n       } catch(e) {\n           toast.error('Arquivo invalido');\n       }\n\n       \n\n    }\n\n    React.useEffect(() => {\n         async function getBalance() {\n             if(balance) return;\n            const ws = new WebSocket('wss://iqoption.com/echo/websocket');\n\n           ws.onopen = () => {\n               console.log('Started');\n               ws.send(JSON.stringify({\"name\":\"ssid\",\"msg\": iqoption.ssid}));\n            }\n\n            ws.onmessage = (message) => {\n                const myMessage = JSON.parse(message.data) as {\n                    name: string;\n                    msg: {\n                        balances: {\n                            amount: number;\n                        }[];\n                    }\n                };\n                \n                if(myMessage.name === 'profile') {\n                    setBalance(myMessage.msg?.balances[1].amount)\n                    ws.close();\n                }\n            }\n        }\n\n        //getBalance();\n    });\n    return(\n        <>\n        <DivStarted ref={divStarted}>\n            <p>Anterior</p>\n            <button><p>{ oldTrade.time } { oldTrade.active } { oldTrade.direction }</p></button>\n\n            <p>Proximo</p>\n            <button><p>{ nextTrade.time } { nextTrade.active } { nextTrade.direction }</p></button>\n        </DivStarted>\n        <DivChange ref={divChange}>\n            <button onClick={(e: any) => {\n                if(div.current.style.display === 'none') {\n                    div.current.style.display = 'block';\n                    divConfig.current.style.display = 'none';\n                    setButtonName('Configurar');\n                    return;\n                }\n                \n                div.current.style.display = 'none';\n                divConfig.current.style.display = 'block';\n                \n                setButtonName('Iniciar');\n            }}>{ buttonName }</button>\n        </DivChange>\n        <DivConfig ref={divConfig}>\n            <h1>Banca <span>{ balance ? `$${balance}` : 'Loading...' }</span></h1>\n            <h1>Delay <span><input type=\"number\" onChange={(e) => {\n                const value = e.target.value as unknown as number;\n                if(!value) return;\n                setDelay(value);\n            }}/></span></h1>\n            <h1>Stop Win <span><input type=\"number\" onChange={(e) => {\n                const value = e.target.value as unknown as number;\n                if(!value) return;\n                setStopWin(value);\n            }}/></span></h1>\n            <h1>Stop Loss <span><input type=\"number\" onChange={(e) => {\n                const value = e.target.value as unknown as number;\n                if(!value) return;\n                setStopLoss(value);\n            }}/></span></h1>\n             <h1>Entrada <span><input type=\"number\" onChange={(e) => {\n                const value = e.target.value as unknown as number;\n                if(!value) return;\n                setEntrada(value);\n            }}/></span></h1>\n            <h1>MartinGales <span><input type=\"number\" onChange={(e) => {\n                const value = e.target.value as unknown as number;\n                if(!value) return;\n                setMartinGales(value);\n            }}/></span></h1>\n            <h1>Listas <span><input type=\"file\" accept=\"text/plain\" onChange={(e) => {\n                const file = e.target.files[0];\n                setFile(file);\n            }} /></span></h1>\n        </DivConfig>\n\n        <Div ref={div}>\n            <h1>Banca <span>{ balance ? `$${balance}` : 'Loading...' }</span></h1>\n            <h1>Delay <span>{ delay }</span></h1>\n            <h1>Stop Win <span>{ stopWin }</span></h1>\n            <h1>Stop Loss <span>{ stopLoss }</span></h1>\n            <h1>Entrada <span>{ entrada }</span></h1>\n            <h1>MartinGales <span>{ martinGales }</span></h1>\n        </Div>\n\n        <StartBot>\n            <button ref={buttonStart} onClick={handleClick}>Start</button>\n        </StartBot>\n        </>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}