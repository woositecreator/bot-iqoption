{"ast":null,"code":"import _regeneratorRuntime from\"/home/user/Desktop/project/iqoption/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _createForOfIteratorHelper from\"/home/user/Desktop/project/iqoption/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _asyncToGenerator from\"/home/user/Desktop/project/iqoption/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import storage from'./storage';var type=\"BINARY\";// BINARY OR DIGITAL\nvar finishedGale=false;var winned=false;var forcedStopMartinGale=false;export default function operate(_x,_x2,_x3,_x4){return _operate.apply(this,arguments);}function _operate(){_operate=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(API,active,action,duration){var martinGales,winsValue,lossValue,stopGain,stopLoss,tradeAgain,_tradeAgain;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_tradeAgain=function _tradeAgain3(){_tradeAgain=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _iterator,_step,martinGale,martinGaleNumber,isMartinGale,order,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_iterator=_createForOfIteratorHelper(martinGales);_context.prev=1;_iterator.s();case 3:if((_step=_iterator.n()).done){_context.next=40;break;}martinGale=_step.value;if(!(Number(martinGale)+lossValue>=stopLoss)){_context.next=9;break;}forcedStopMartinGale=true;storage.stopLossStoped();return _context.abrupt(\"return\");case 9:;if(!(winsValue>=stopGain)){_context.next=14;break;}forcedStopMartinGale=true;storage.stopGain();return _context.abrupt(\"return\");case 14:;martinGaleNumber=martinGales.indexOf(martinGale);isMartinGale=martinGale==martinGales[0];martinGale=martinGale.toFixed(2);console.log(isMartinGale?\"ENTRADA: R$ \".concat(martinGale):\"MG\".concat(martinGaleNumber,\": R$ \").concat(martinGale));_context.next=21;return API.buy({active:active,action:action,amount:martinGale,type:type,duration:duration//1 e 1 minutos\n});case 21:order=_context.sent;_context.next=24;return order.close();case 24://console.log(await API.getBalance('PRACTICE').amount);\nconsole.log('ordem',order.quote.win);if(!order.quote.win){storage.addLossValue(Number(martinGale));if(lossValue>=stopLoss){storage.stopLossStoped();forcedStopMartinGale=true;}};if(order.quote.win){storage.addWinValue(Number(martinGale));if(winsValue>=stopGain){storage.stopGain();forcedStopMartinGale=true;}};console.log(\"\\nWins\",' ',storage.getStorage().winCount,' ','Losss',' ',storage.getStorage().lossCount);result=order.quote.win?\"WIN\":\"LOSS\";console.log(\"Resultado: \",result);if(!(martinGale==martinGales[martinGales.length-1].toFixed(2))){_context.next=35;break;}finishedGale=true;return _context.abrupt(\"break\",40);case 35:if(!(result=='WIN')){_context.next=38;break;}winned=true;return _context.abrupt(\"break\",40);case 38:_context.next=3;break;case 40:_context.next=45;break;case 42:_context.prev=42;_context.t0=_context[\"catch\"](1);_iterator.e(_context.t0);case 45:_context.prev=45;_iterator.f();return _context.finish(45);case 48:case\"end\":return _context.stop();}}},_callee,null,[[1,42,45,48]]);}));return _tradeAgain.apply(this,arguments);};tradeAgain=function _tradeAgain2(){return _tradeAgain.apply(this,arguments);};martinGales=storage.getStorage().martinGales;console.log(martinGales);console.log(\"===============================\");console.log(\"ULTIMAS VELAS: \".concat(action));console.log(\"DIRE\\xC7AO: \".concat(action));winsValue=storage.getStorage().winsValue;lossValue=storage.getStorage().losssValue;stopGain=storage.getStorage().stopGain;stopLoss=storage.getStorage().stopLoss;forcedStopMartinGale=false;case 12:if(!(!finishedGale&&!winned&&!forcedStopMartinGale)){_context2.next=17;break;}_context2.next=15;return tradeAgain();case 15:_context2.next=12;break;case 17:finishedGale=false;winned=false;case 19:case\"end\":return _context2.stop();}}},_callee2);}));return _operate.apply(this,arguments);}","map":{"version":3,"sources":["/home/user/Desktop/project/iqoption/src/utils/operate.ts"],"names":["storage","type","finishedGale","winned","forcedStopMartinGale","operate","API","active","action","duration","tradeAgain","martinGales","martinGale","Number","lossValue","stopLoss","stopLossStoped","winsValue","stopGain","martinGaleNumber","indexOf","isMartinGale","toFixed","console","log","buy","amount","order","close","quote","win","addLossValue","addWinValue","getStorage","winCount","lossCount","result","length","losssValue"],"mappings":"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","sourcesContent":["import storage from './storage';\n\nconst type = \"BINARY\" // BINARY OR DIGITAL\n\nlet finishedGale = false;\nlet winned = false;\nlet forcedStopMartinGale = false;\n\nexport default async function operate(API, active, action, duration) {\t\n\t\tconst martinGales = storage.getStorage().martinGales;\n\t\tconsole.log(martinGales);\n\t\tconsole.log(\"===============================\")\n\n\t\tconsole.log(`ULTIMAS VELAS: ${action}`)\n\t\tconsole.log(`DIREÃ‡AO: ${action}`)\n\t\tconst winsValue = storage.getStorage().winsValue;\n\t\tconst lossValue = storage.getStorage().losssValue;\n\t\tconst stopGain = storage.getStorage().stopGain;\n\t\tconst stopLoss = storage.getStorage().stopLoss;\n\n\t\tforcedStopMartinGale = false;\n\t\tasync function tradeAgain() {\n\t\t\tfor (let martinGale of martinGales) {\t\n\n\t\t\t\tif(Number(martinGale) + lossValue >= stopLoss) {\n\t\t\t\t\tforcedStopMartinGale = true;\n\t\t\t\t\tstorage.stopLossStoped();\n\t\t\t\t\treturn;\n\t\t\t\t};\n\n\t\t\t\tif(winsValue >= stopGain) {\n\t\t\t\t\tforcedStopMartinGale = true;\n\t\t\t\t\tstorage.stopGain();\n\t\t\t\t\treturn;\n\t\t\t\t};\n\n\t\t\t\tconst martinGaleNumber = martinGales.indexOf(martinGale)\n\t\t\t\tconst isMartinGale = martinGale == martinGales[0]\n\t\t\t\tmartinGale = martinGale.toFixed(2) as any\n\n\t\t\t\tconsole.log(isMartinGale ? `ENTRADA: R$ ${martinGale}` : `MG${martinGaleNumber}: R$ ${martinGale}`)\n\t\t\t\tconst order = await API.buy({\n\t\t\t\t\tactive,\n\t\t\t\t\taction: action,\n\t\t\t\t\tamount: martinGale,\n\t\t\t\t\ttype,\n\t\t\t\t\tduration: duration //1 e 1 minutos\n\t\t\t\t})\n\t\t\t\tawait order.close()\n\t\t\t\t//console.log(await API.getBalance('PRACTICE').amount);\n\t\t\t\tconsole.log('ordem', order.quote.win);\n\n\n\t\t\t\tif(!order.quote.win) {\n\t\t\t\t\tstorage.addLossValue(Number(martinGale));\n\t\t\t\t\tif(lossValue >= stopLoss) {\n\t\t\t\t\t\tstorage.stopLossStoped();\n\t\t\t\t\t\tforcedStopMartinGale = true;\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tif(order.quote.win) {\n\t\t\t\t\tstorage.addWinValue(Number(martinGale));\n\t\t\t\t\tif(winsValue >= stopGain) {\n\t\t\t\t\t\tstorage.stopGain();\n\t\t\t\t\t\tforcedStopMartinGale = true;\n\t\t\t\t\t}\n\t\t\t\t};\n\n\n\t\t\t\tconsole.log(\"\\nWins\", ' ',storage.getStorage().winCount, ' ', 'Losss', ' ', storage.getStorage().lossCount);\n\n\t\t\t\tconst result = order.quote.win ? \"WIN\" : \"LOSS\"\n\t\t\t\tconsole.log(\"Resultado: \", result);\n\n\t\t\t\tif (martinGale == martinGales[martinGales.length - 1].toFixed(2) as any) {\n\t\t\t\t\tfinishedGale = true;\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t\tif (result == 'WIN') {\n\t\t\t\t\twinned = true;\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t}\n\t\twhile((!finishedGale && !winned) && !forcedStopMartinGale) await tradeAgain();\n\n\t\tfinishedGale = false;\n\t\twinned = false;\n}"]},"metadata":{},"sourceType":"module"}