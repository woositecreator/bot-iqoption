{"ast":null,"code":"module.exports = function (active, callback) {\n  return new Promise((resolve, reject) => {\n    if (!(active in this.actives)) return reject(\"Ativo inválido.\");\n    const activeId = this.actives[active];\n    this.WebSocket.send(\"subscribeMessage\", {\n      name: \"candle-generated\",\n      params: {\n        routingFilters: {\n          active_id: activeId,\n          size: 60\n        }\n      }\n    });\n    this.WebSocket.getMessage(\"candle-generated\", message => {\n      if (message.msg.active_id == activeId) {\n        callback(message.msg);\n      }\n    });\n  });\n};","map":{"version":3,"sources":["/home/user/Desktop/project/iqoption/node_modules/iqoptionzzz/lib/api/websocket/oncandlegenerate.js"],"names":["module","exports","active","callback","Promise","resolve","reject","actives","activeId","WebSocket","send","name","params","routingFilters","active_id","size","getMessage","message","msg"],"mappings":"AAAAA,MAAM,CAACC,OAAP,GAAiB,UAASC,MAAT,EAAiBC,QAAjB,EAA2B;AAC3C,SAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACvC,QAAI,EAAEJ,MAAM,IAAI,KAAKK,OAAjB,CAAJ,EACC,OAAOD,MAAM,CAAC,iBAAD,CAAb;AAED,UAAME,QAAQ,GAAG,KAAKD,OAAL,CAAaL,MAAb,CAAjB;AAEA,SAAKO,SAAL,CAAeC,IAAf,CAAoB,kBAApB,EAAwC;AACvCC,MAAAA,IAAI,EAAE,kBADiC;AAEvCC,MAAAA,MAAM,EAAE;AACPC,QAAAA,cAAc,EAAE;AACfC,UAAAA,SAAS,EAAEN,QADI;AAEfO,UAAAA,IAAI,EAAE;AAFS;AADT;AAF+B,KAAxC;AAUA,SAAKN,SAAL,CAAeO,UAAf,CAA0B,kBAA1B,EAA8CC,OAAO,IAAI;AACxD,UAAIA,OAAO,CAACC,GAAR,CAAYJ,SAAZ,IAAyBN,QAA7B,EAAuC;AACtCL,QAAAA,QAAQ,CAACc,OAAO,CAACC,GAAT,CAAR;AACA;AACD,KAJD;AAKA,GArBM,CAAP;AAsBA,CAvBD","sourcesContent":["module.exports = function(active, callback) {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tif (!(active in this.actives))\r\n\t\t\treturn reject(\"Ativo inválido.\")\r\n\r\n\t\tconst activeId = this.actives[active]\r\n\r\n\t\tthis.WebSocket.send(\"subscribeMessage\", {\r\n\t\t\tname: \"candle-generated\",\r\n\t\t\tparams: {\r\n\t\t\t\troutingFilters: {\r\n\t\t\t\t\tactive_id: activeId,\r\n\t\t\t\t\tsize: 60\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tthis.WebSocket.getMessage(\"candle-generated\", message => {\r\n\t\t\tif (message.msg.active_id == activeId) {\r\n\t\t\t\tcallback(message.msg)\r\n\t\t\t}\r\n\t\t})\r\n\t})\r\n}"]},"metadata":{},"sourceType":"script"}